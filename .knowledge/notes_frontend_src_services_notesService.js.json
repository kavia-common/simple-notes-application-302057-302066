{"is_source_file": true, "format": "JavaScript", "description": "This file implements a Notes Service for a frontend application, managing notes locally via localStorage or remotely via REST API calls, depending on backend configuration. It includes functions to list, get, create, update, and delete notes, with fallback mechanisms and seed data initialization.", "external_files": ["../config/env", "../utils/notesUtils"], "external_methods": ["isBackendEnabled", "getBackendBaseUrl", "generateId", "nowIso", "normalizeTitle", "sortNotes"], "published": ["listNotes", "getNote", "createNote", "updateNote", "deleteNote"], "classes": [], "methods": [{"name": "backendRequest(path, options = {})", "description": "Performs an HTTP request to the backend API with proper error handling and supports JSON and text responses.", "scope": "", "scopeKind": ""}, {"name": "readLocalNotes()", "description": "Reads the notes array from localStorage, handling parsing errors gracefully.", "scope": "", "scopeKind": ""}, {"name": "writeLocalNotes(notes)", "description": "Serializes and saves notes array to localStorage.", "scope": "", "scopeKind": ""}, {"name": "ensureSeedDataIfEmpty(notes)", "description": "Populates initial seed note data if the current notes array is empty.", "scope": "", "scopeKind": ""}, {"name": "getLocalNotesWithSeed()", "description": "Returns sorted local notes, ensuring seed data is present if needed.", "scope": "", "scopeKind": ""}, {"name": "isLikelyNetworkError(err)", "description": "Determines if an error is likely caused by network issues.", "scope": "", "scopeKind": ""}, {"name": "createNote(partial)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "deleteNote(id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getNote(id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "listNotes()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "updateNote(id, patch)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["getBackendBaseUrl", "fetch", "res.headers.get", "JSON.parse", "writeLocalNotes", "sortNotes", "isBackendEnabled", "backendRequest", "readLocalNotes", "normalizeTitle", "generateId", "nowIso"], "search-terms": ["notes_service", "localStorage_notes", "REST_API_notes", "notes CRUD", "backend switch", "seed data", "notesUtils"], "state": 2, "file_id": 15, "knowledge_revision": 54, "git_revision": "9c6ce13b1f9590f5dd738d763b3dd92508a537c6", "revision_history": [{"43": "9c6ce13b1f9590f5dd738d763b3dd92508a537c6"}, {"54": "9c6ce13b1f9590f5dd738d763b3dd92508a537c6"}], "ctags": [{"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/simple-notes-application-302057-302066/notes_frontend/src/services/notesService.js", "pattern": "/^const STORAGE_KEY = 'simpleNotes.notes.v1';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "backendRequest", "path": "/home/kavia/workspace/code-generation/simple-notes-application-302057-302066/notes_frontend/src/services/notesService.js", "pattern": "/^async function backendRequest(path, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, options = {})"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/simple-notes-application-302057-302066/notes_frontend/src/services/notesService.js", "pattern": "/^    color: partial?.color || 'blue',$/", "language": "JavaScript", "kind": "property", "scope": "createNote.note", "scopeKind": "class"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/simple-notes-application-302057-302066/notes_frontend/src/services/notesService.js", "pattern": "/^    content: partial?.content || '',$/", "language": "JavaScript", "kind": "property", "scope": "createNote.note", "scopeKind": "class"}, {"_type": "tag", "name": "createNote", "path": "/home/kavia/workspace/code-generation/simple-notes-application-302057-302066/notes_frontend/src/services/notesService.js", "pattern": "/^export async function createNote(partial) {$/", "language": "JavaScript", "kind": "function", "signature": "(partial)"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/code-generation/simple-notes-application-302057-302066/notes_frontend/src/services/notesService.js", "pattern": "/^    createdAt: ts,$/", "language": "JavaScript", "kind": "property", "scope": "createNote.note", "scopeKind": "class"}, {"_type": "tag", "name": "deleteNote", "path": "/home/kavia/workspace/code-generation/simple-notes-application-302057-302066/notes_frontend/src/services/notesService.js", "pattern": "/^export async function deleteNote(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "ensureSeedDataIfEmpty", "path": "/home/kavia/workspace/code-generation/simple-notes-application-302057-302066/notes_frontend/src/services/notesService.js", "pattern": "/^function ensureSeedDataIfEmpty(notes) {$/", "language": "JavaScript", "kind": "function", "signature": "(notes)"}, {"_type": "tag", "name": "getLocalNotesWithSeed", "path": "/home/kavia/workspace/code-generation/simple-notes-application-302057-302066/notes_frontend/src/services/notesService.js", "pattern": "/^function getLocalNotesWithSeed() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getNote", "path": "/home/kavia/workspace/code-generation/simple-notes-application-302057-302066/notes_frontend/src/services/notesService.js", "pattern": "/^export async function getNote(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/simple-notes-application-302057-302066/notes_frontend/src/services/notesService.js", "pattern": "/^    id: generateId(),$/", "language": "JavaScript", "kind": "property", "scope": "createNote.note", "scopeKind": "class"}, {"_type": "tag", "name": "isLikelyNetworkError", "path": "/home/kavia/workspace/code-generation/simple-notes-application-302057-302066/notes_frontend/src/services/notesService.js", "pattern": "/^function isLikelyNetworkError(err) {$/", "language": "JavaScript", "kind": "function", "signature": "(err)"}, {"_type": "tag", "name": "listNotes", "path": "/home/kavia/workspace/code-generation/simple-notes-application-302057-302066/notes_frontend/src/services/notesService.js", "pattern": "/^export async function listNotes() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "note", "path": "/home/kavia/workspace/code-generation/simple-notes-application-302057-302066/notes_frontend/src/services/notesService.js", "pattern": "/^  const note = {$/", "language": "JavaScript", "kind": "class", "scope": "createNote", "scopeKind": "class"}, {"_type": "tag", "name": "pinned", "path": "/home/kavia/workspace/code-generation/simple-notes-application-302057-302066/notes_frontend/src/services/notesService.js", "pattern": "/^    pinned: Boolean(partial?.pinned),$/", "language": "JavaScript", "kind": "property", "scope": "createNote.note", "scopeKind": "class"}, {"_type": "tag", "name": "readLocalNotes", "path": "/home/kavia/workspace/code-generation/simple-notes-application-302057-302066/notes_frontend/src/services/notesService.js", "pattern": "/^function readLocalNotes() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/simple-notes-application-302057-302066/notes_frontend/src/services/notesService.js", "pattern": "/^    title: normalizeTitle(partial?.title || 'Untitled'),$/", "language": "JavaScript", "kind": "property", "scope": "createNote.note", "scopeKind": "class"}, {"_type": "tag", "name": "updateNote", "path": "/home/kavia/workspace/code-generation/simple-notes-application-302057-302066/notes_frontend/src/services/notesService.js", "pattern": "/^export async function updateNote(id, patch) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, patch)"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/code-generation/simple-notes-application-302057-302066/notes_frontend/src/services/notesService.js", "pattern": "/^    updatedAt: ts,$/", "language": "JavaScript", "kind": "property", "scope": "createNote.note", "scopeKind": "class"}, {"_type": "tag", "name": "writeLocalNotes", "path": "/home/kavia/workspace/code-generation/simple-notes-application-302057-302066/notes_frontend/src/services/notesService.js", "pattern": "/^function writeLocalNotes(notes) {$/", "language": "JavaScript", "kind": "function", "signature": "(notes)"}], "hash": "1638dd24b8aa02e997bae82b25f75bc6", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/services/notesService.js", "fields": [{"name": "color: partial?.color || 'blue',", "scope": "createNote.note", "scopeKind": "class", "description": "unavailable"}, {"name": "content: partial?.content || '',", "scope": "createNote.note", "scopeKind": "class", "description": "unavailable"}, {"name": "createdAt: ts,", "scope": "createNote.note", "scopeKind": "class", "description": "unavailable"}, {"name": "id: generateId(),", "scope": "createNote.note", "scopeKind": "class", "description": "unavailable"}, {"name": "pinned: Boolean(partial?.pinned),", "scope": "createNote.note", "scopeKind": "class", "description": "unavailable"}, {"name": "title: normalizeTitle(partial?.title || 'Untitled'),", "scope": "createNote.note", "scopeKind": "class", "description": "unavailable"}, {"name": "updatedAt: ts,", "scope": "createNote.note", "scopeKind": "class", "description": "unavailable"}]}